â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   CONTENT API å¿«é€Ÿåƒè€ƒå¡                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ å°å…¥æ–¹å¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
import { 
  ContentApi, 
  StoriesApi, 
  ApiClient 
} from '@suggar-daddy/api-client';

const client = new ApiClient({ 
  baseURL: 'https://api.suggar-daddy.com',
  getAccessToken: async () => localStorage.getItem('token')
});

const contentApi = new ContentApi(client);
const storiesApi = new StoriesApi(client);

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¬ è©•è«–ç³»çµ± API (P0)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1ï¸âƒ£ æ–°å¢ç•™è¨€
   contentApi.addComment(postId, text, parentCommentId?)
   
   ç¯„ä¾‹ï¼š
   await contentApi.addComment('post123', 'é€™å€‹ä½œå“è¶…è®šï¼');
   await contentApi.addComment('post123', 'è¬è¬ï¼', 'comment456');

2ï¸âƒ£ å–å¾—ç•™è¨€åˆ—è¡¨
   contentApi.getComments(postId, cursor?)
   
   ç¯„ä¾‹ï¼š
   const { data, nextCursor, hasMore } = 
     await contentApi.getComments('post123');

3ï¸âƒ£ åˆªé™¤ç•™è¨€
   contentApi.deleteComment(postId, commentId)
   
   ç¯„ä¾‹ï¼š
   await contentApi.deleteComment('post123', 'comment456');

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” Discovery ç™¼ç¾ API (P0)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

4ï¸âƒ£ å–å¾—ç†±é–€è²¼æ–‡
   contentApi.getTrendingPosts(limit?)
   
   ç¯„ä¾‹ï¼š
   const trending = await contentApi.getTrendingPosts(20);

5ï¸âƒ£ æœå°‹è²¼æ–‡
   contentApi.searchPosts(query, cursor?)
   
   ç¯„ä¾‹ï¼š
   const { data, nextCursor, hasMore } = 
     await contentApi.searchPosts('å¥èº«æ•™å­¸');

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“± Stories é™æ™‚å‹•æ…‹ API (P1)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

6ï¸âƒ£ å‰µå»ºé™æ™‚å‹•æ…‹
   storiesApi.createStory(mediaId, duration?)
   
   ç¯„ä¾‹ï¼š
   await storiesApi.createStory('media123');        // é è¨­æ™‚é•·
   await storiesApi.createStory('video456', 15);    // 15 ç§’

7ï¸âƒ£ å–å¾—å‹•æ…‹æ¶ˆæ¯
   storiesApi.getStoriesFeed()
   
   ç¯„ä¾‹ï¼š
   const feed = await storiesApi.getStoriesFeed();
   // [{userId, username, stories: [...], hasUnviewed: true}, ...]

8ï¸âƒ£ å–å¾—å‰µä½œè€…é™æ™‚å‹•æ…‹
   storiesApi.getCreatorStories(creatorId)
   
   ç¯„ä¾‹ï¼š
   const stories = await storiesApi.getCreatorStories('creator123');

9ï¸âƒ£ æ¨™è¨˜ç‚ºå·²æª¢è¦–
   storiesApi.markStoryAsViewed(storyId)
   
   ç¯„ä¾‹ï¼š
   await storiesApi.markStoryAsViewed('story123');

ğŸ”Ÿ å–å¾—æª¢è¦–è€…åˆ—è¡¨
   storiesApi.getStoryViewers(storyId)
   
   ç¯„ä¾‹ï¼š
   const viewers = await storiesApi.getStoryViewers('story123');
   // [{userId, username, avatarUrl, viewedAt}, ...]

1ï¸âƒ£1ï¸âƒ£ åˆªé™¤é™æ™‚å‹•æ…‹
   storiesApi.deleteStory(storyId)
   
   ç¯„ä¾‹ï¼š
   await storiesApi.deleteStory('story123');

1ï¸âƒ£2ï¸âƒ£ å–å¾—å½±ç‰‡ä¸²æµ URL
   storiesApi.getVideoStreamUrl(postId)
   
   ç¯„ä¾‹ï¼š
   const { streamUrl } = await storiesApi.getVideoStreamUrl('video789');

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ é¡å‹å®šç¾©
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Comment {
  commentId: string
  postId: string
  userId: string
  username: string
  avatarUrl?: string
  text: string
  parentCommentId?: string
  createdAt: string
  likesCount: number
  repliesCount: number
}

PaginatedResponse<T> {
  data: T[]
  nextCursor?: string
  hasMore: boolean
}

Story {
  storyId: string
  userId: string
  username: string
  avatarUrl?: string
  mediaUrl: string
  mediaType: 'IMAGE' | 'VIDEO'
  duration: number
  createdAt: string
  expiresAt: string
  viewsCount: number
  isViewed?: boolean
}

StoryGroup {
  userId: string
  username: string
  avatarUrl?: string
  stories: Story[]
  hasUnviewed: boolean
}

StoryViewer {
  userId: string
  username: string
  avatarUrl?: string
  viewedAt: string
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ å¸¸è¦‹ä½¿ç”¨æƒ…å¢ƒ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â–¸ ç•™è¨€å€çµ„ä»¶
  1. è¼‰å…¥ç•™è¨€ï¼šgetComments(postId)
  2. æ–°å¢ç•™è¨€ï¼šaddComment(postId, text)
  3. å›è¦†ç•™è¨€ï¼šaddComment(postId, text, parentCommentId)
  4. åˆªé™¤ç•™è¨€ï¼šdeleteComment(postId, commentId)
  5. è¼‰å…¥æ›´å¤šï¼šgetComments(postId, nextCursor)

â–¸ é¦–é ç†±é–€
  1. è¼‰å…¥ç†±é–€ï¼šgetTrendingPosts(20)
  2. æœå°‹è²¼æ–‡ï¼šsearchPosts(query)
  3. åˆ†é è¼‰å…¥ï¼šsearchPosts(query, nextCursor)

â–¸ Stories åŠŸèƒ½
  1. é¦–é é¡¯ç¤ºï¼šgetStoriesFeed()
  2. æª¢è¦– Storyï¼šmarkStoryAsViewed(storyId)
  3. å‰µä½œè€…é é¢ï¼šgetCreatorStories(creatorId)
  4. ä¸Šå‚³ Storyï¼šcreateStory(mediaId, duration)
  5. æª¢è¦–çµ±è¨ˆï¼šgetStoryViewers(storyId)
  6. åˆªé™¤ Storyï¼šdeleteStory(storyId)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”— HTTP ç«¯é»å°ç…§
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

POST   /api/posts/:postId/comments           â†’ addComment
GET    /api/posts/:postId/comments           â†’ getComments
DELETE /api/posts/:postId/comments/:id       â†’ deleteComment
GET    /api/posts/trending                   â†’ getTrendingPosts
GET    /api/posts/search                     â†’ searchPosts
POST   /api/stories                          â†’ createStory
GET    /api/stories/feed                     â†’ getStoriesFeed
GET    /api/stories/creator/:creatorId       â†’ getCreatorStories
POST   /api/stories/:storyId/view            â†’ markStoryAsViewed
GET    /api/stories/:storyId/viewers         â†’ getStoryViewers
DELETE /api/stories/:storyId                 â†’ deleteStory
GET    /api/videos/:postId/stream            â†’ getVideoStreamUrl

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ å‚™è¨»
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ æ‰€æœ‰ API éƒ½æ”¯æ´ async/await
â€¢ åˆ†é çµ±ä¸€ä½¿ç”¨ cursor-based pagination
â€¢ éŒ¯èª¤è™•ç†é€é ApiClient çµ±ä¸€ç®¡ç†
â€¢ æ‰€æœ‰æ™‚é–“ä½¿ç”¨ ISO 8601 æ ¼å¼å­—ä¸²
â€¢ Stories é è¨­ 24 å°æ™‚å¾ŒéæœŸ

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
