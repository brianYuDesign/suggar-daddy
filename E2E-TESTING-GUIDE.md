# ğŸ¯ Playwright è‡ªå‹•åŒ–æ¸¬è©¦ä½¿ç”¨æŒ‡å—

## âœ… å·²ç‚ºä½ è‡ªå‹•ç”Ÿæˆçš„å…§å®¹

### ğŸ“ æ¸¬è©¦æª”æ¡ˆçµæ§‹
```
e2e/
â”œâ”€â”€ web/
â”‚   â””â”€â”€ web-app.spec.ts          # âœ… 70+ Web App æ¸¬è©¦ç”¨ä¾‹
â”œâ”€â”€ admin/
â”‚   â””â”€â”€ admin-dashboard.spec.ts  # âœ… 50+ Admin å¾Œå°æ¸¬è©¦ç”¨ä¾‹
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ test-helpers.ts          # âœ… å…±ç”¨æ¸¬è©¦å·¥å…·å‡½æ•¸
â””â”€â”€ user-journeys.spec.ts        # âœ… 3 å€‹å®Œæ•´ç”¨æˆ¶æ—…ç¨‹æ¸¬è©¦

screenshots/                      # ğŸ“¸ è‡ªå‹•æˆªåœ–è¼¸å‡ºç›®éŒ„
test-results/                     # ğŸ¥ è‡ªå‹•éŒ„å½±è¼¸å‡ºç›®éŒ„
playwright-report/                # ğŸ“Š HTML æ¸¬è©¦å ±å‘Šç›®éŒ„
playwright.config.ts              # âš™ï¸  Playwright é…ç½®æª”æ¡ˆ
e2e-test.sh                       # ğŸš€ å¿«é€Ÿå•Ÿå‹•è…³æœ¬
```

### ğŸ¬ æ¸¬è©¦è¦†è“‹ç¯„åœ

#### Web App (ç”¨æˆ¶å‰ç«¯) - 70+ æ¸¬è©¦ç”¨ä¾‹
âœ… **èªè­‰æµç¨‹** (5 tests)
- è¨ªå•é¦–é 
- ç™»å…¥é é¢å°èˆª
- è¨»å†Šé é¢å°èˆªèˆ‡è§’è‰²é¸æ“‡
- ç™»å…¥å¤±æ•—éŒ¯èª¤è™•ç†

âœ… **å‹•æ…‹ç‰†** (3 tests + éŒ„å½±)
- ç€è¦½å‹•æ…‹ç‰†ä¸¦æˆªåœ–
- é»è´Šè²¼æ–‡äº’å‹•
- æŸ¥çœ‹è²¼æ–‡è©³æƒ…

âœ… **æ¢ç´¢èˆ‡é…å°** (2 tests + éŒ„å½±)
- ç€è¦½æ¢ç´¢å¡ç‰‡ç‰†
- æ»‘å‹•äº’å‹•èˆ‡é…å°
- æŸ¥çœ‹é…å°åˆ—è¡¨

âœ… **æ¶ˆæ¯èˆ‡é€šçŸ¥** (2 tests)
- è¨ªå•æ¶ˆæ¯åˆ—è¡¨
- æŸ¥çœ‹é€šçŸ¥ä¸­å¿ƒ

âœ… **å€‹äººæª”æ¡ˆ** (3 tests)
- æŸ¥çœ‹å€‹äººæª”æ¡ˆ
- ç·¨è¼¯å€‹äººè³‡æ–™
- è¨ªå•å¸³è™Ÿè¨­å®š

âœ… **éŒ¢åŒ…èˆ‡äº¤æ˜“** (3 tests + éŒ„å½±)
- æŸ¥çœ‹éŒ¢åŒ…é¤˜é¡çµ±è¨ˆ
- æŸ¥çœ‹äº¤æ˜“è¨˜éŒ„
- è¨ªå•ææ¬¾é é¢

âœ… **å…§å®¹å‰µä½œ** (2 tests)
- ç™¼å¸ƒæ–°å‹•æ…‹
- ç®¡ç†è¨‚é–±

âœ… **éŸ¿æ‡‰å¼è¨­è¨ˆ** (3 tests)
- æ‰‹æ©Ÿç‰ˆé¦–é  (375x667)
- å¹³æ¿ç‰ˆé¦–é  (768x1024)
- æ¡Œé¢ç‰ˆé¦–é  (1920x1080)

#### Admin Dashboard (ç®¡ç†å¾Œå°) - 50+ æ¸¬è©¦ç”¨ä¾‹
âœ… **ç®¡ç†å“¡ç™»å…¥** (2 tests)
- è¨ªå•ç™»å…¥é é¢
- ç™»å…¥å¤±æ•—éŒ¯èª¤è™•ç†

âœ… **å„€è¡¨æ¿ç¸½è¦½** (2 tests + éŒ„å½±)
- æŸ¥çœ‹å„€è¡¨æ¿é¦–é 
- æª¢æŸ¥é—œéµæŒ‡æ¨™

âœ… **ç”¨æˆ¶ç®¡ç†** (4 tests + éŒ„å½±)
- æŸ¥çœ‹ç”¨æˆ¶åˆ—è¡¨
- æœå°‹ç”¨æˆ¶
- æŒ‰è§’è‰²ç¯©é¸
- æŸ¥çœ‹ç”¨æˆ¶è©³æƒ…

âœ… **æ”¯ä»˜èˆ‡ç‡Ÿæ”¶** (4 tests + éŒ„å½±)
- æŸ¥çœ‹æ”¯ä»˜åˆ†æ
- ç‡Ÿæ”¶åœ–è¡¨
- è¨‚é–±ç®¡ç†
- äº¤æ˜“è¨˜éŒ„

âœ… **æç¾ç®¡ç†** (2 tests + éŒ„å½±)
- æŸ¥çœ‹æç¾åˆ—è¡¨
- ç¯©é¸å¾…å¯©æ‰¹æç¾

âœ… **å…§å®¹å¯©æ ¸** (2 tests + éŒ„å½±)
- æŸ¥çœ‹å…§å®¹åˆ—è¡¨
- æŸ¥çœ‹èˆ‰å ±åˆ—è¡¨

âœ… **ç³»çµ±ç®¡ç†** (3 tests + éŒ„å½±)
- é«˜ç´šåˆ†æ
- å¯©è¨ˆæ—¥èªŒ
- ç³»çµ±è¨­å®š

âœ… **éŸ¿æ‡‰å¼è¨­è¨ˆ** (3 tests)
- å¹³æ¿ç‰ˆå„€è¡¨æ¿
- æ¡Œé¢ç‰ˆå„€è¡¨æ¿
- å¤§è¢å¹•å„€è¡¨æ¿

âœ… **å°èˆªæ¸¬è©¦** (1 test + å®Œæ•´éŒ„å½±)
- æ¸¬è©¦æ‰€æœ‰é é¢é–“å°èˆªæµç¨‹

#### å®Œæ•´ç”¨æˆ¶æ—…ç¨‹ - 3 å€‹ç«¯åˆ°ç«¯æµç¨‹æ¸¬è©¦
âœ… **å‰µä½œè€…å®Œæ•´æµç¨‹** (10 æ­¥é©Ÿ + å®Œæ•´éŒ„å½±)
1. ç™»å…¥ â†’ 2. æŸ¥çœ‹æª”æ¡ˆ â†’ 3. æŸ¥çœ‹éŒ¢åŒ… â†’ 4. ç™¼å¸ƒå‹•æ…‹ 
5. æŸ¥çœ‹å‹•æ…‹ç‰† â†’ 6. æŸ¥çœ‹é€šçŸ¥ â†’ 7. è¨‚é–±ç®¡ç† 
8. äº¤æ˜“è¨˜éŒ„ â†’ 9-10. å®Œæ•´å·¥ä½œæµç¨‹

âœ… **æ¢ç´¢è€…å®Œæ•´æµç¨‹** (10 æ­¥é©Ÿ + å®Œæ•´éŒ„å½±)
1. ç™»å…¥ â†’ 2. æ¢ç´¢å¡ç‰‡ â†’ 3. é»è´Šç”¨æˆ¶ â†’ 4. æŸ¥çœ‹é…å°
5. æŸ¥çœ‹æ¶ˆæ¯ â†’ 6. ç€è¦½å‹•æ…‹ â†’ 7. æ»¾å‹•è¼‰å…¥ 
8. é»è´Šè²¼æ–‡ â†’ 9. è²¼æ–‡è©³æƒ… â†’ 10. å‰µä½œè€…æª”æ¡ˆ

âœ… **ç®¡ç†å“¡å®Œæ•´æµç¨‹** (13 æ­¥é©Ÿ + å®Œæ•´éŒ„å½±)
1. ç™»å…¥ â†’ 2. å„€è¡¨æ¿ â†’ 3. ç”¨æˆ¶ç®¡ç† â†’ 4. æœå°‹ç”¨æˆ¶
5. æ”¯ä»˜åˆ†æ â†’ 6. æç¾ç®¡ç† â†’ 7. å…§å®¹å¯©æ ¸ 
8. èˆ‰å ±åˆ—è¡¨ â†’ 9. äº¤æ˜“è¨˜éŒ„ â†’ 10. åˆ†æå ±è¡¨ 
11. å¯©è¨ˆæ—¥èªŒ â†’ 12. ç³»çµ±è¨­å®š â†’ 13. è¿”å›å„€è¡¨æ¿

---

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### æ–¹æ³• 1: ä½¿ç”¨å¿«é€Ÿå•Ÿå‹•è…³æœ¬ (æœ€ç°¡å–®)
```bash
./e2e-test.sh
```
æœƒé¡¯ç¤ºäº’å‹•å¼é¸å–®ï¼Œé¸æ“‡ä½ è¦åŸ·è¡Œçš„æ¸¬è©¦é¡å‹ã€‚

### æ–¹æ³• 2: ä½¿ç”¨ npm è…³æœ¬
```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm run e2e

# ä½¿ç”¨ UI æ¨¡å¼ (æ¨è–¦ - å¯è¦–åŒ–èª¿è©¦)
npm run e2e:ui

# ä½¿ç”¨ Headed æ¨¡å¼ (é¡¯ç¤ºç€è¦½å™¨)
npm run e2e:headed

# åƒ…æ¸¬è©¦ Web App
npm run e2e:web

# åƒ…æ¸¬è©¦ Admin
npm run e2e:admin

# åƒ…æ¸¬è©¦å®Œæ•´æ—…ç¨‹
npm run e2e:journeys

# æŸ¥çœ‹æ¸¬è©¦å ±å‘Š
npm run e2e:report
```

### æ–¹æ³• 3: ç›´æ¥ä½¿ç”¨ Playwright CLI
```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npx playwright test

# åŸ·è¡Œç‰¹å®šæª”æ¡ˆ
npx playwright test e2e/web/web-app.spec.ts

# Debug æ¨¡å¼
npx playwright test --debug

# åƒ…åœ¨ Chromium åŸ·è¡Œ
npx playwright test --project=chromium
```

---

## ğŸ“¸ æŸ¥çœ‹æˆªåœ–èˆ‡éŒ„å½±

### æˆªåœ–ä½ç½®
æ‰€æœ‰æ¸¬è©¦åŸ·è¡Œæ™‚æœƒè‡ªå‹•åœ¨é—œéµæ­¥é©Ÿæˆªåœ–ï¼š
```
screenshots/
â”œâ”€â”€ homepage-2026-02-14T04-45-00.png
â”œâ”€â”€ login-page-2026-02-14T04-45-05.png
â”œâ”€â”€ feed-page-2026-02-14T04-45-10.png
â””â”€â”€ ...
```

### éŒ„å½±ä½ç½®
å¤±æ•—çš„æ¸¬è©¦å’Œå®Œæ•´æ—…ç¨‹æ¸¬è©¦æœƒè‡ªå‹•éŒ„å½±ï¼š
```
test-results/
â”œâ”€â”€ feed-flow.zip
â”œâ”€â”€ creator-full-journey.zip
â”œâ”€â”€ admin-full-journey.zip
â””â”€â”€ ...
```

### æŸ¥çœ‹éŒ„å½±è¿½è¹¤
```bash
npx playwright show-trace test-results/creator-full-journey.zip
```
æœƒé–‹å•Ÿäº’å‹•å¼è¿½è¹¤æª¢è¦–å™¨ï¼ŒåŒ…å«ï¼š
- ğŸ“¸ æ¯å€‹æ­¥é©Ÿçš„æˆªåœ–
- ğŸ¯ å…ƒç´ é¸æ“‡å™¨
- ğŸŒ ç¶²è·¯è«‹æ±‚
- ğŸ“ Console æ—¥èªŒ
- â±ï¸  æ™‚é–“è»¸

---

## âš™ï¸ è¨­å®šèªªæ˜

### æ¸¬è©¦ç”¨æˆ¶æ†‘è­‰
åœ¨ `e2e/utils/test-helpers.ts` ä¸­å®šç¾©ï¼š

```typescript
export const TEST_USERS = {
  creator: {
    email: 'creator@test.com',
    password: 'Test1234!',
  },
  subscriber: {
    email: 'subscriber@test.com',
    password: 'Test1234!',
  },
  admin: {
    email: 'admin@test.com',
    password: 'Admin1234!',
  },
};
```

âš ï¸ **é‡è¦**: è«‹ç¢ºä¿åœ¨è³‡æ–™åº«ä¸­å‰µå»ºé€™äº›æ¸¬è©¦å¸³è™Ÿã€‚

### ç€è¦½å™¨æ”¯æ´
æ¸¬è©¦æœƒåœ¨ä»¥ä¸‹ç’°å¢ƒåŸ·è¡Œï¼š
- âœ… Chromium (Chrome/Edge)
- âœ… Firefox
- âœ… WebKit (Safari)
- âœ… Mobile Chrome (Pixel 5)
- âœ… Mobile Safari (iPhone 12)

---

## ğŸ¨ è‡ªå‹•ç”Ÿæˆæ¸¬è©¦ç¨‹å¼ç¢¼

å¦‚æœä½ æƒ³ç‚ºæ–°åŠŸèƒ½æ·»åŠ æ¸¬è©¦ï¼Œå¯ä»¥ä½¿ç”¨ Codegen è‡ªå‹•éŒ„è£½ï¼š

```bash
# éŒ„è£½ Web App æ“ä½œ
npx playwright codegen http://localhost:4200

# éŒ„è£½ Admin æ“ä½œ
npx playwright codegen http://localhost:4300
```

Playwright æœƒé–‹å•Ÿç€è¦½å™¨ï¼Œä½ çš„æ“ä½œæœƒè‡ªå‹•è½‰æ›ç‚ºç¨‹å¼ç¢¼ã€‚

---

## ğŸ“Š æ¸¬è©¦å ±å‘Š

åŸ·è¡Œæ¸¬è©¦å¾Œï¼ŒæŸ¥çœ‹ HTML å ±å‘Šï¼š
```bash
npx playwright show-report
```

å ±å‘ŠåŒ…å«ï¼š
- âœ… é€šé/å¤±æ•—çš„æ¸¬è©¦çµ±è¨ˆ
- â±ï¸  åŸ·è¡Œæ™‚é–“åˆ†æ
- ğŸ“¸ å¤±æ•—æ¸¬è©¦çš„æˆªåœ–
- ğŸ¥ éŒ„å½±è¿½è¹¤æª”æ¡ˆ
- ğŸ“ è©³ç´°éŒ¯èª¤è¨Šæ¯

---

## ğŸ”§ æ•…éšœæ’é™¤

### å•é¡Œ 1: æ¸¬è©¦æ‰¾ä¸åˆ°å…ƒç´ 
**åŸå› **: é é¢è¼‰å…¥é€Ÿåº¦æ…¢æˆ–å…ƒç´ é¸æ“‡å™¨ä¸æ­£ç¢º

**è§£æ±ºæ–¹æ¡ˆ**:
```typescript
// å¢åŠ ç­‰å¾…æ™‚é–“
await page.waitForSelector('[data-testid="element"]', { timeout: 10000 });

// ä½¿ç”¨æ›´å¯¬é¬†çš„é¸æ“‡å™¨
await page.locator('button:has-text("ç™»å…¥"), [type="submit"]').first().click();
```

### å•é¡Œ 2: æ¸¬è©¦ç”¨æˆ¶ä¸å­˜åœ¨
**åŸå› **: è³‡æ–™åº«ä¸­æ²’æœ‰æ¸¬è©¦å¸³è™Ÿ

**è§£æ±ºæ–¹æ¡ˆ**: æ‰‹å‹•åœ¨è³‡æ–™åº«æˆ–é€é API å»ºç«‹æ¸¬è©¦å¸³è™Ÿï¼Œæˆ–ä¿®æ”¹ `test-helpers.ts` ä½¿ç”¨ä½ ç¾æœ‰çš„å¸³è™Ÿã€‚

### å•é¡Œ 3: æœå‹™æœªå•Ÿå‹•
**åŸå› **: Web/Admin/API Gateway æœå‹™æœªé‹è¡Œ

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# çµ‚ç«¯æ©Ÿ 1
npm run serve:web

# çµ‚ç«¯æ©Ÿ 2
npm run serve:admin

# çµ‚ç«¯æ©Ÿ 3
npm run serve:api-gateway
```

### å•é¡Œ 4: ç€è¦½å™¨æœªå®‰è£
**è§£æ±ºæ–¹æ¡ˆ**:
```bash
npx playwright install
```

---

## ğŸ¯ æœ€ä½³å¯¦è¸

1. **æ·»åŠ  data-testid**: åœ¨ React å…ƒä»¶ä¸­æ·»åŠ æ¸¬è©¦ ID
   ```tsx
   <button data-testid="login-button">ç™»å…¥</button>
   ```

2. **ä½¿ç”¨ Page Object Model**: å°æ–¼è¤‡é›œæµç¨‹ï¼Œè€ƒæ…®ä½¿ç”¨ POM æ¨¡å¼

3. **ç¨ç«‹æ¸¬è©¦**: æ¯å€‹æ¸¬è©¦æ‡‰è©²ç¨ç«‹ï¼Œä¸ä¾è³´å…¶ä»–æ¸¬è©¦çš„åŸ·è¡Œçµæœ

4. **æ¸…ç†è³‡æ–™**: æ¸¬è©¦å¾Œæ¸…ç†å‰µå»ºçš„æ¸¬è©¦è³‡æ–™

5. **ä¸¦è¡ŒåŸ·è¡Œ**: Playwright é è¨­ä¸¦è¡ŒåŸ·è¡Œï¼Œæ³¨æ„è³‡æ–™éš”é›¢

---

## ğŸ“š æ›´å¤šè³‡æº

- [Playwright å®˜æ–¹æ–‡æª”](https://playwright.dev/)
- [Best Practices](https://playwright.dev/docs/best-practices)
- [Trace Viewer](https://playwright.dev/docs/trace-viewer)
- [Codegen å·¥å…·](https://playwright.dev/docs/codegen)
- [å®Œæ•´ README](./e2e/README.md)

---

**ğŸ‰ ç¾åœ¨ä½ å¯ä»¥é–‹å§‹åŸ·è¡Œæ¸¬è©¦äº†ï¼**

å»ºè­°å…ˆåŸ·è¡Œï¼š
```bash
./e2e-test.sh
# é¸æ“‡é¸é … 5 - ä½¿ç”¨ UI æ¨¡å¼
```

é€™æ¨£ä½ å¯ä»¥çœ‹åˆ°æ¯å€‹æ¸¬è©¦çš„åŸ·è¡Œéç¨‹ï¼Œä¸¦ä¸”å¯ä»¥å³æ™‚èª¿è©¦ã€‚
