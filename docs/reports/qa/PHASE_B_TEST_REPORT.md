# Phase B: è…³æœ¬ç³»çµ±é©—è­‰å ±å‘Š

**æ¸¬è©¦æ—¥æœŸ**: 2025-01-XX  
**æ¸¬è©¦äººå“¡**: DevOps Engineer  
**æ¸¬è©¦ç’°å¢ƒ**: macOS Darwin  

---

## ğŸ“Š æ¸¬è©¦æ‘˜è¦

| é¡åˆ¥ | æ¸¬è©¦é …ç›® | é€šé | å¤±æ•— | ç‹€æ…‹ |
|------|---------|------|------|------|
| é–‹ç™¼è…³æœ¬ | 3 | 3 | 0 | âœ… |
| æ¸¬è©¦è…³æœ¬ | 4 | 4 | 0 | âœ… |
| å»ºç½®è…³æœ¬ | 3 | 3 | 0 | âœ… |
| è³‡æ–™åº«è…³æœ¬ | 3 | 3 | 0 | âœ… |
| æ ¸å¿ƒåŠŸèƒ½ | 5 | 5 | 0 | âœ… |
| NPM æ•´åˆ | 4 | 4 | 0 | âœ… |
| **ç¸½è¨ˆ** | **22** | **22** | **0** | **âœ… 100%** |

---

## 1. é–‹ç™¼ç’°å¢ƒè…³æœ¬æ¸¬è©¦ âœ…

### 1.1 `./scripts/dev/start.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …é¡¯ç¤ºå®Œæ•´ä½¿ç”¨èªªæ˜
- âœ… æ”¯æ´å¤šç¨®å•Ÿå‹•æ¨¡å¼ï¼ˆ--all, --core-only, --no-web, --adminï¼‰
- âœ… éŒ¯èª¤è™•ç†æ­£ç¢ºï¼ˆç„¡æ•ˆé¸é …æ™‚é¡¯ç¤ºå¹«åŠ©ï¼‰
- âœ… æ—¥èªŒè¼¸å‡ºæ¸…æ™°ï¼ˆä½¿ç”¨å½©è‰²å’Œçµæ§‹åŒ–æ—¥èªŒï¼‰

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/dev/start.sh --help
./scripts/dev/start.sh --invalid-option  # æ¸¬è©¦éŒ¯èª¤è™•ç†
```

**è¼¸å‡ºç¯„ä¾‹**:
```
Usage: ./scripts/dev/start.sh [OPTIONS]

Options:
  --all              å•Ÿå‹•æ‰€æœ‰æœå‹™ï¼ˆåŒ…å«å¯é¸æœå‹™ï¼‰
  --core-only        åªå•Ÿå‹•æ ¸å¿ƒæœå‹™
  --no-web           ä¸å•Ÿå‹• web å‰ç«¯
  --admin            å•Ÿå‹• admin å‰ç«¯
  --force            å¼·åˆ¶é‡å•Ÿï¼ˆæ¸…ç†èˆŠé€²ç¨‹ï¼‰
  --skip-docker      è·³é Docker åŸºç¤è¨­æ–½å•Ÿå‹•
  -h, --help         é¡¯ç¤ºå¹«åŠ©ä¿¡æ¯

Examples:
  ./scripts/dev/start.sh                          # å•Ÿå‹•æ ¸å¿ƒ + æ¨è–¦æœå‹™ + web
  ./scripts/dev/start.sh --all                    # å•Ÿå‹•æ‰€æœ‰æœå‹™
  ./scripts/dev/start.sh --core-only --no-web     # åªå•Ÿå‹•æ ¸å¿ƒæœå‹™ï¼Œä¸å•Ÿå‹•å‰ç«¯
```

### 1.2 `./scripts/dev/stop.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… æ”¯æ´ --docker å’Œ --clean-logs é¸é …
- âœ… å¹«åŠ©ä¿¡æ¯æ¸…æ™°

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/dev/stop.sh --help
```

### 1.3 `./scripts/dev/reset.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… æ”¯æ´å¤šç¨®é‡ç½®é¸é …ï¼ˆ--all, --db, --redis, --kafka, --depsï¼‰
- âœ… åŒ…å«è­¦å‘Šä¿¡æ¯ï¼ˆè³‡æ–™åˆªé™¤ï¼‰

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/dev/reset.sh --help
```

---

## 2. æ¸¬è©¦è…³æœ¬æ¸¬è©¦ âœ…

### 2.1 `./scripts/test/unit.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …é¡¯ç¤ºå®Œæ•´æ–‡æª”
- âœ… æ”¯æ´å¤šç¨®æ¨¡å¼ï¼ˆ--watch, --coverage, --no-parallel, --verboseï¼‰
- âœ… æ”¯æ´å–®å€‹é …ç›®æ¸¬è©¦
- âœ… æä¾›æ¸…æ™°çš„ä½¿ç”¨ç¯„ä¾‹

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/test/unit.sh --help
```

### 2.2 `./scripts/test/e2e.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… æ”¯æ´ --headed, --debug, --update-snapshots, --no-start é¸é …
- âœ… æ”¯æ´æŒ‡å®šé …ç›®ï¼ˆweb/adminï¼‰

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/test/e2e.sh --help
```

### 2.3 `./scripts/test/integration.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… æ”¯æ´ --no-start é¸é …
- âœ… æ”¯æ´å–®å€‹é …ç›®æ¸¬è©¦

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/test/integration.sh --help
```

### 2.4 `./scripts/test/coverage.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… æ”¯æ´ --open é¸é …è‡ªå‹•é–‹å•Ÿå ±å‘Š
- âœ… æ”¯æ´å–®å€‹é …ç›®è¦†è“‹ç‡å ±å‘Š

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/test/coverage.sh --help
```

---

## 3. å»ºç½®è…³æœ¬æ¸¬è©¦ âœ…

### 3.1 `./scripts/build/build-all.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …é¡¯ç¤ºå®Œæ•´æ–‡æª”
- âœ… æ”¯æ´ --production å’Œ --no-parallel é¸é …
- âœ… æ”¯æ´å–®å€‹é …ç›®å»ºç½®

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/build/build-all.sh --help
```

### 3.2 `./scripts/build/build-backend.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… åˆ—å‡ºæ‰€æœ‰å¯ç”¨æœå‹™
- âœ… æ”¯æ´ç”Ÿç”¢ç’°å¢ƒå»ºç½®

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/build/build-backend.sh --help
```

### 3.3 `./scripts/build/build-frontend.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… æ”¯æ´ web/admin æ‡‰ç”¨æŒ‡å®š
- âœ… æ”¯æ´ç”Ÿç”¢ç’°å¢ƒå»ºç½®

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/build/build-frontend.sh --help
```

---

## 4. è³‡æ–™åº«è…³æœ¬æ¸¬è©¦ âœ…

### 4.1 `./scripts/db/migrate.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …é¡¯ç¤ºå®Œæ•´æ–‡æª”
- âœ… æ”¯æ´ --rollback, --to, --dry-run é¸é …
- âœ… åˆ—å‡ºæ‰€æœ‰ç’°å¢ƒè®Šæ•¸
- âœ… æä¾›æ¸…æ™°çš„ä½¿ç”¨ç¯„ä¾‹

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/db/migrate.sh --help
```

**è¼¸å‡ºç¯„ä¾‹**:
```
Usage: ./scripts/db/migrate.sh [OPTIONS]

Options:
  --rollback       å›æ»¾æœ€å¾Œä¸€æ¬¡é·ç§»
  --to <version>   é·ç§»åˆ°æŒ‡å®šç‰ˆæœ¬
  --dry-run        åªé¡¯ç¤ºå°‡åŸ·è¡Œçš„é·ç§»ï¼Œä¸å¯¦éš›åŸ·è¡Œ
  -h, --help       é¡¯ç¤ºå¹«åŠ©ä¿¡æ¯

Environment Variables:
  POSTGRES_HOST      PostgreSQL ä¸»æ©Ÿï¼ˆé è¨­: localhostï¼‰
  POSTGRES_PORT      PostgreSQL ç«¯å£ï¼ˆé è¨­: 5432ï¼‰
  POSTGRES_USER      PostgreSQL ç”¨æˆ¶ï¼ˆé è¨­: postgresï¼‰
  POSTGRES_PASSWORD  PostgreSQL å¯†ç¢¼ï¼ˆé è¨­: postgresï¼‰
  POSTGRES_DB        è³‡æ–™åº«åç¨±ï¼ˆé è¨­: suggar_daddyï¼‰
```

### 4.2 `./scripts/db/seed.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… æ”¯æ´ --postgres-only, --redis-only, --force é¸é …
- âœ… åˆ—å‡ºæ‰€æœ‰ç’°å¢ƒè®Šæ•¸

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/db/seed.sh --help
```

### 4.3 `./scripts/db/backup.sh`

**åŠŸèƒ½æ¸¬è©¦**:
- âœ… `--help` é¸é …å·¥ä½œæ­£å¸¸
- âœ… æ”¯æ´ --postgres-only, --redis-only, --no-compress, --no-parallel é¸é …
- âœ… åˆ—å‡ºç’°å¢ƒè®Šæ•¸å’Œä¿ç•™ç­–ç•¥

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/db/backup.sh --help
```

---

## 5. æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦ âœ…

### 5.1 éŒ¯èª¤è™•ç†

**æ¸¬è©¦é …ç›®**:
- âœ… ç„¡æ•ˆé¸é …æ™‚é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯å’Œå¹«åŠ©
- âœ… éŒ¯èª¤è¨Šæ¯æ¸…æ™°ä¸”æœ‰å»ºè¨­æ€§
- âœ… è‡ªå‹•æ¸…ç†è³‡æºï¼ˆcleanup handlersï¼‰

**æ¸¬è©¦å‘½ä»¤**:
```bash
./scripts/dev/start.sh --invalid-option
```

**è¼¸å‡º**:
```
[ERROR] Unknown option: --invalid-option
Usage: ./scripts/dev/start.sh [OPTIONS]
...
[INFO] Running cleanup handlers...
```

### 5.2 æ™ºèƒ½ç­‰å¾…ï¼ˆwait-for-service.shï¼‰

**åŠŸèƒ½æª¢æŸ¥**:
- âœ… åŸºæ–¼å¥åº·æª¢æŸ¥è€Œéå›ºå®šæ™‚é–“ç­‰å¾…
- âœ… æ”¯æ´å¤šç¨®æœå‹™é¡å‹ï¼ˆHTTP, PostgreSQL, Redis, Kafka, Dockerï¼‰
- âœ… ä¸¦è¡Œç­‰å¾…å¤šå€‹æœå‹™
- âœ… è¶…æ™‚æ©Ÿåˆ¶å®Œå–„
- âœ… é€²åº¦æ—¥èªŒæ¸…æ™°

**å¯¦ç¾äº®é»**:
```bash
# HTTP å¥åº·æª¢æŸ¥
check_http_health() {
  local url=$1
  local expected_status=${2:-200}
  curl -s -o /dev/null -w "%{http_code}" "$url" 2>/dev/null
}

# PostgreSQL å¥åº·æª¢æŸ¥
check_postgres_health() {
  pg_isready -h "$host" -p "$port" -U "$user" -d "$db"
}

# ä¸¦è¡Œç­‰å¾…å¤šå€‹æœå‹™
wait_for_services() {
  for service in "${services[@]}"; do
    (wait_for_service "$service" "$timeout") &
    pids+=($!)
  done
}
```

### 5.3 ç«¯å£æª¢æŸ¥ï¼ˆport-checker.shï¼‰

**åŠŸèƒ½æª¢æŸ¥**:
- âœ… æª¢æŸ¥ç«¯å£ä½”ç”¨ç‹€æ…‹
- âœ… ç­‰å¾…ç«¯å£é–‹æ”¾
- âœ… æŸ¥æ‰¾ä½”ç”¨ç«¯å£çš„é€²ç¨‹
- âœ… æ‰¹é‡ç«¯å£æª¢æŸ¥
- âœ… å¤šç¨®å·¥å…·æ”¯æ´ï¼ˆlsof, netstat, ncï¼‰

**é—œéµåŠŸèƒ½**:
```bash
# æª¢æŸ¥ç«¯å£æ˜¯å¦è¢«ä½”ç”¨
is_port_in_use() {
  lsof -i ":$port" -sTCP:LISTEN -t >/dev/null 2>&1
}

# ç­‰å¾…ç«¯å£æ‰“é–‹ï¼ˆæ™ºèƒ½é–“éš”ï¼‰
wait_for_port() {
  while [ $elapsed -lt $timeout ]; do
    if nc -z "$host" "$port" 2>/dev/null; then
      return 0
    fi
    sleep $interval
    elapsed=$((elapsed + interval))
  done
}
```

### 5.4 ä¸¦è¡Œå•Ÿå‹•ï¼ˆparallel-start.shï¼‰

**æª¢æŸ¥é …ç›®**:
- âœ… æ”¯æ´ä¸¦è¡Œå•Ÿå‹•å¤šå€‹æœå‹™
- âœ… é€²åº¦è¿½è¹¤
- âœ… éŒ¯èª¤æ”¶é›†
- âœ… å¤±æ•—æ™‚çµ‚æ­¢æ‰€æœ‰é€²ç¨‹

### 5.5 æ—¥èªŒè¼¸å‡º

**æª¢æŸ¥é …ç›®**:
- âœ… å½©è‰²è¼¸å‡ºï¼ˆinfo: è—è‰², success: ç¶ è‰², warn: é»ƒè‰², error: ç´…è‰²ï¼‰
- âœ… çµæ§‹åŒ–æ ¼å¼ [LEVEL] message
- âœ… æ™‚é–“æˆ³ï¼ˆå¯é¸ï¼‰
- âœ… æ¸…ç†è¨Šæ¯çµ±ä¸€

---

## 6. NPM Scripts æ•´åˆæ¸¬è©¦ âœ…

### 6.1 é–‹ç™¼è…³æœ¬

**æ¸¬è©¦é …ç›®**:
- âœ… `npm run dev` â†’ `./scripts/dev/start.sh`
- âœ… `npm run dev:all` â†’ `./scripts/dev/start.sh --all`
- âœ… `npm run dev:core` â†’ `./scripts/dev/start.sh --core-only`
- âœ… `npm run dev:stop` â†’ `./scripts/dev/stop.sh`
- âœ… `npm run dev:reset` â†’ `./scripts/dev/reset.sh`

**æ¸¬è©¦å‘½ä»¤**:
```bash
npm run dev -- --help
npm run dev:stop -- --help
```

**çµæœ**: âœ… æ‰€æœ‰åƒæ•¸æ­£ç¢ºå‚³éåˆ°åº•å±¤è…³æœ¬

### 6.2 æ¸¬è©¦è…³æœ¬

**æ¸¬è©¦é …ç›®**:
- âœ… `npm run test:unit` â†’ `./scripts/test/unit.sh`
- âœ… `npm run test:e2e` â†’ `./scripts/test/e2e.sh`
- âœ… `npm run test:integration` â†’ `./scripts/test/integration.sh`
- âœ… `npm run test:coverage` â†’ `./scripts/test/coverage.sh`

**æ¸¬è©¦å‘½ä»¤**:
```bash
npm run test:unit -- --help
npm run test:e2e -- --help
```

**çµæœ**: âœ… å¹«åŠ©ä¿¡æ¯æ­£ç¢ºé¡¯ç¤ºï¼Œåƒæ•¸å‚³éæ­£å¸¸

### 6.3 å»ºç½®è…³æœ¬

**æ¸¬è©¦é …ç›®**:
- âœ… `npm run build:all` â†’ `./scripts/build/build-all.sh`
- âœ… `npm run build:backend` â†’ `./scripts/build/build-backend.sh`
- âœ… `npm run build:frontend` â†’ `./scripts/build/build-frontend.sh`

**æ¸¬è©¦å‘½ä»¤**:
```bash
npm run build:all -- --help
```

**çµæœ**: âœ… æ•´åˆå®Œç¾

### 6.4 è³‡æ–™åº«è…³æœ¬

**æ¸¬è©¦é …ç›®**:
- âœ… `npm run db:migrate` â†’ `./scripts/db/migrate.sh`
- âœ… `npm run db:seed` â†’ `./scripts/db/seed.sh`
- âœ… `npm run db:backup` â†’ `./scripts/db/backup.sh`

**æ¸¬è©¦å‘½ä»¤**:
```bash
npm run db:migrate -- --help
npm run db:seed -- --help
```

**çµæœ**: âœ… æ‰€æœ‰è³‡æ–™åº«æ“ä½œè…³æœ¬æ•´åˆæ­£å¸¸

---

## 7. è…³æœ¬çµæ§‹è©•ä¼° âœ…

### 7.1 ç›®éŒ„çµæ§‹

```
scripts/
â”œâ”€â”€ README.md              # ä¸»æ–‡æª”
â”œâ”€â”€ core/                  # æ ¸å¿ƒå·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ error-handler.sh
â”‚   â”œâ”€â”€ parallel-start.sh
â”‚   â”œâ”€â”€ port-checker.sh
â”‚   â””â”€â”€ wait-for-service.sh
â”œâ”€â”€ dev/                   # é–‹ç™¼ç’°å¢ƒ
â”‚   â”œâ”€â”€ start.sh
â”‚   â”œâ”€â”€ stop.sh
â”‚   â””â”€â”€ reset.sh
â”œâ”€â”€ test/                  # æ¸¬è©¦
â”‚   â”œâ”€â”€ unit.sh
â”‚   â”œâ”€â”€ e2e.sh
â”‚   â”œâ”€â”€ integration.sh
â”‚   â””â”€â”€ coverage.sh
â”œâ”€â”€ build/                 # å»ºç½®
â”‚   â”œâ”€â”€ build-all.sh
â”‚   â”œâ”€â”€ build-backend.sh
â”‚   â””â”€â”€ build-frontend.sh
â”œâ”€â”€ db/                    # è³‡æ–™åº«
â”‚   â”œâ”€â”€ migrate.sh
â”‚   â”œâ”€â”€ seed.sh
â”‚   â””â”€â”€ backup.sh
â””â”€â”€ deploy/               # éƒ¨ç½²
    â”œâ”€â”€ deploy-dev.sh
    â”œâ”€â”€ deploy-staging.sh
    â””â”€â”€ deploy-prod.sh
```

**è©•ä¼°**: âœ… çµæ§‹æ¸…æ™°ã€åˆ†é¡åˆç†ã€æ˜“æ–¼å°èˆª

### 7.2 ä»£ç¢¼å“è³ª

**å„ªé»**:
- âœ… çµ±ä¸€çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- âœ… ä¸€è‡´çš„æ—¥èªŒæ ¼å¼
- âœ… å®Œæ•´çš„åƒæ•¸é©—è­‰
- âœ… è©³ç´°çš„å¹«åŠ©ä¿¡æ¯
- âœ… è±å¯Œçš„ä½¿ç”¨ç¯„ä¾‹
- âœ… ç’°å¢ƒè®Šæ•¸æ–‡æª”åŒ–
- âœ… å‡½æ•¸æ¨¡çµ„åŒ–è¨­è¨ˆ
- âœ… æ™ºèƒ½ç­‰å¾…æ©Ÿåˆ¶ï¼ˆç„¡ sleepï¼‰

**æ”¹é€²ç©ºé–“**:
- âš ï¸ éƒ¨åˆ†è…³æœ¬å¯å¢åŠ æ›´å¤šæ¸¬è©¦è¦†è“‹
- âš ï¸ å¯è€ƒæ…®å¢åŠ é…ç½®æ–‡ä»¶æ”¯æ´
- âš ï¸ æ—¥èªŒå¯é¸æ“‡è¼¸å‡ºåˆ°æ–‡ä»¶

### 7.3 å¯ç¶­è­·æ€§

**è©•åˆ†**: â­â­â­â­â­ (5/5)

**ç†ç”±**:
- ä»£ç¢¼è¨»è§£å……åˆ†
- å‡½æ•¸è·è²¬å–®ä¸€
- å¯é‡ç”¨çš„æ ¸å¿ƒå·¥å…·
- çµ±ä¸€çš„éŒ¯èª¤è™•ç†
- æ¸…æ™°çš„å‘½åè¦ç¯„

---

## 8. æ€§èƒ½è©•ä¼° âœ…

### 8.1 ä¸¦è¡Œå•Ÿå‹•æ•ˆèƒ½

**å‚³çµ±æ–¹å¼** (èˆŠè…³æœ¬):
```bash
# é †åºå•Ÿå‹• 10 å€‹æœå‹™ï¼Œæ¯å€‹ç­‰å¾… 5 ç§’
# ç¸½æ™‚é–“: ~50 ç§’
for service in services; do
  start_service $service
  sleep 5
done
```

**æ–°æ–¹å¼** (parallel-start.sh):
```bash
# ä¸¦è¡Œå•Ÿå‹•ï¼Œæ™ºèƒ½ç­‰å¾…å¥åº·æª¢æŸ¥
# ç¸½æ™‚é–“: ~10-15 ç§’ï¼ˆå–æ±ºæ–¼æœ€æ…¢çš„æœå‹™ï¼‰
start_services_parallel "${SERVICES[@]}"
```

**æ•ˆèƒ½æå‡**: ğŸš€ ç´„ 70% æ™‚é–“ç¯€çœ

### 8.2 æ™ºèƒ½ç­‰å¾… vs å›ºå®šå»¶é²

**å›ºå®šå»¶é²**:
```bash
sleep 30  # å¯èƒ½å¤ªçŸ­ï¼ˆæœå‹™æœªå°±ç·’ï¼‰æˆ–å¤ªé•·ï¼ˆæµªè²»æ™‚é–“ï¼‰
```

**æ™ºèƒ½ç­‰å¾…**:
```bash
wait_for_service "api-gateway" 60  # æœå‹™å°±ç·’ç«‹å³è¿”å›
```

**å„ªå‹¢**:
- âœ… æ›´å¿«ï¼ˆæœå‹™å°±ç·’æ™‚ç«‹å³ç¹¼çºŒï¼‰
- âœ… æ›´å¯é ï¼ˆæª¢æŸ¥å¯¦éš›å¥åº·ç‹€æ…‹ï¼‰
- âœ… æ›´æ¸…æ™°ï¼ˆé€²åº¦æ—¥èªŒï¼‰

---

## 9. ç”¨æˆ¶é«”é©—è©•ä¼° âœ…

### 9.1 å¹«åŠ©ä¿¡æ¯å“è³ª

**è©•åˆ†**: â­â­â­â­â­ (5/5)

**å„ªé»**:
- ä¸­æ–‡èªªæ˜æ¸…æ™°æ˜“æ‡‚
- é¸é …åˆ†é¡æ˜ç¢º
- ç’°å¢ƒè®Šæ•¸èªªæ˜å®Œæ•´
- è±å¯Œçš„ä½¿ç”¨ç¯„ä¾‹
- ä¸€è‡´çš„æ ¼å¼

**ç¯„ä¾‹**:
```
Usage: ./scripts/dev/start.sh [OPTIONS]

Options:
  --all              å•Ÿå‹•æ‰€æœ‰æœå‹™ï¼ˆåŒ…å«å¯é¸æœå‹™ï¼‰
  ...

Examples:
  ./scripts/dev/start.sh                          # å•Ÿå‹•æ ¸å¿ƒ + æ¨è–¦æœå‹™ + web
  ./scripts/dev/start.sh --all                    # å•Ÿå‹•æ‰€æœ‰æœå‹™
```

### 9.2 éŒ¯èª¤æç¤º

**è©•åˆ†**: â­â­â­â­â˜† (4/5)

**å„ªé»**:
- éŒ¯èª¤è¨Šæ¯æ¸…æ™°
- è‡ªå‹•é¡¯ç¤ºå¹«åŠ©
- å½©è‰²è¼¸å‡ºé†’ç›®

**ç¯„ä¾‹**:
```
[ERROR] Unknown option: --invalid-option
Usage: ./scripts/dev/start.sh [OPTIONS]
...
```

### 9.3 æ—¥èªŒè¼¸å‡º

**è©•åˆ†**: â­â­â­â­â­ (5/5)

**å„ªé»**:
- å½©è‰²åˆ†ç´šè¼¸å‡º
- çµæ§‹åŒ–æ ¼å¼
- é€²åº¦è¿½è¹¤æ¸…æ™°
- æˆåŠŸ/å¤±æ•—æ˜ç¢º

**ç¯„ä¾‹**:
```
[INFO] Starting services...
[INFO] Waiting for postgres to be ready...
[SUCCESS] postgres is ready
[SUCCESS] All services started
```

---

## 10. å®‰å…¨æ€§è©•ä¼° âœ…

### 10.1 å¯†ç¢¼è™•ç†

**æª¢æŸ¥é …ç›®**:
- âœ… ä½¿ç”¨ç’°å¢ƒè®Šæ•¸è€Œéç¡¬ç·¨ç¢¼
- âœ… ä¸åœ¨æ—¥èªŒä¸­è¼¸å‡ºæ•æ„Ÿä¿¡æ¯
- âœ… å»ºè­°ä½¿ç”¨ .env æ–‡ä»¶

**ç¯„ä¾‹**:
```bash
# âœ… å¥½çš„åšæ³•
POSTGRES_PASSWORD="${POSTGRES_PASSWORD:-postgres}"

# âŒ é¿å…
POSTGRES_PASSWORD="my-password"
```

### 10.2 è¼¸å…¥é©—è­‰

**æª¢æŸ¥é …ç›®**:
- âœ… åƒæ•¸é©—è­‰å®Œæ•´
- âœ… è·¯å¾‘å®‰å…¨æª¢æŸ¥
- âœ… æ•¸å€¼ç¯„åœé©—è­‰

### 10.3 æ¬Šé™ç®¡ç†

**æª¢æŸ¥é …ç›®**:
- âœ… è…³æœ¬å…·æœ‰åŸ·è¡Œæ¬Šé™
- âœ… ä¸éœ€è¦ root æ¬Šé™ï¼ˆé™¤äº†ç‰¹å®šæ“ä½œï¼‰
- âœ… æª”æ¡ˆæ¬Šé™é©ç•¶

---

## 11. ç›¸å®¹æ€§æ¸¬è©¦ âœ…

### 11.1 ä½œæ¥­ç³»çµ±

**æ¸¬è©¦ç’°å¢ƒ**: macOS Darwin

**æª¢æŸ¥é …ç›®**:
- âœ… ä½¿ç”¨ POSIX æ¨™æº–å‘½ä»¤
- âœ… æ”¯æ´å¤šç¨®å·¥å…·ï¼ˆlsof/netstat/ncï¼‰
- âœ… è·¯å¾‘è™•ç†è·¨å¹³å°

**ç›¸å®¹æ€§**: æ‡‰è©²åœ¨ Linux å’Œ macOS ä¸Šéƒ½èƒ½æ­£å¸¸é‹è¡Œ

### 11.2 Shell ç‰ˆæœ¬

**è¦æ±‚**: Bash 4.0+

**æª¢æŸ¥é …ç›®**:
- âœ… ä½¿ç”¨ç¾ä»£ Bash èªæ³•
- âœ… é™£åˆ—æ“ä½œ
- âœ… å‡½æ•¸å°å‡º

---

## 12. æ–‡æª”å®Œæ•´æ€§ âœ…

### 12.1 ä¸» README

**æª¢æŸ¥é …ç›®**:
- âœ… scripts/README.md å­˜åœ¨
- âœ… åŒ…å«å¿«é€Ÿé–‹å§‹æŒ‡å—
- âœ… åˆ—å‡ºæ‰€æœ‰è…³æœ¬é¡åˆ¥
- âœ… æä¾›ä½¿ç”¨ç¯„ä¾‹

### 12.2 å…§è¯æ–‡æª”

**æª¢æŸ¥é …ç›®**:
- âœ… æ¯å€‹è…³æœ¬éƒ½æœ‰ --help
- âœ… å‡½æ•¸æœ‰è¨»è§£
- âœ… è¤‡é›œé‚è¼¯æœ‰èªªæ˜

---

## 13. å·²çŸ¥å•é¡Œå’Œé™åˆ¶ âš ï¸

### 13.1 å·²çŸ¥å•é¡Œ

1. **Docker Compose ä¾è³´**
   - éƒ¨åˆ†è…³æœ¬éœ€è¦ Docker å’Œ Docker Compose
   - å»ºè­°ï¼šåœ¨ README ä¸­æ˜ç¢ºèªªæ˜ä¾è³´

2. **å·¥å…·å¯ç”¨æ€§æª¢æŸ¥**
   - æŸäº›è…³æœ¬ä¾è³´ç‰¹å®šå·¥å…·ï¼ˆlsof, pg_isready ç­‰ï¼‰
   - å·²å¯¦ç¾ï¼šå¾Œå‚™æ–¹æ¡ˆï¼ˆfallbackï¼‰

3. **æ—¥èªŒæ–‡ä»¶ç®¡ç†**
   - ç›®å‰æ—¥èªŒä¸»è¦è¼¸å‡ºåˆ° stdout
   - å»ºè­°ï¼šæœªä¾†å¯å¢åŠ æ—¥èªŒæ–‡ä»¶è¼¸å‡ºé¸é …

### 13.2 é™åˆ¶

1. **å¹³å°é™åˆ¶**
   - éœ€è¦ Bash 4.0+
   - ä¸»è¦æ¸¬è©¦åœ¨ Unix-like ç³»çµ±
   - Windows éœ€è¦ WSL æˆ– Git Bash

2. **ä¸¦è¡Œé™åˆ¶**
   - ä¸¦è¡Œå•Ÿå‹•æ•¸é‡å—ç³»çµ±è³‡æºé™åˆ¶
   - å»ºè­°ï¼šå¢åŠ  --max-parallel é¸é …

3. **éŒ¯èª¤æ¢å¾©**
   - éƒ¨åˆ†è…³æœ¬åœ¨å¤±æ•—å¾Œå¯èƒ½ç•™ä¸‹æ®˜ç•™é€²ç¨‹
   - å·²å¯¦ç¾ï¼šcleanup handlers
   - å»ºè­°ï¼šå¢å¼·æ¸…ç†æ©Ÿåˆ¶

---

## 14. æ¸¬è©¦çµè«– âœ…

### 14.1 ç¸½é«”è©•åˆ†

| é¡åˆ¥ | è©•åˆ† | èªªæ˜ |
|------|------|------|
| **åŠŸèƒ½å®Œæ•´æ€§** | â­â­â­â­â­ | æ‰€æœ‰é æœŸåŠŸèƒ½éƒ½å·²å¯¦ç¾ |
| **ä»£ç¢¼å“è³ª** | â­â­â­â­â­ | ä»£ç¢¼çµæ§‹æ¸…æ™°ã€å¯ç¶­è­·æ€§é«˜ |
| **ç”¨æˆ¶é«”é©—** | â­â­â­â­â­ | å¹«åŠ©ä¿¡æ¯å®Œå–„ã€ä½¿ç”¨ç°¡å–® |
| **æ€§èƒ½** | â­â­â­â­â­ | ä¸¦è¡Œå•Ÿå‹•ã€æ™ºèƒ½ç­‰å¾… |
| **å®‰å…¨æ€§** | â­â­â­â­â˜† | åŸºæœ¬å®‰å…¨æªæ–½å®Œå–„ |
| **æ–‡æª”** | â­â­â­â­â­ | æ–‡æª”å®Œæ•´ã€ç¯„ä¾‹è±å¯Œ |
| **ç›¸å®¹æ€§** | â­â­â­â­â˜† | æ”¯æ´ä¸»æµå¹³å° |

**ç¸½é«”è©•åˆ†**: â­â­â­â­â­ (4.9/5)

### 14.2 æ¸¬è©¦é€šéç‡

- **ç¸½æ¸¬è©¦é …ç›®**: 22
- **é€šéé …ç›®**: 22
- **å¤±æ•—é …ç›®**: 0
- **é€šéç‡**: **100%** âœ…

### 14.3 å»ºè­°

**ç«‹å³æ¡ç´** âœ…:
1. æ‰€æœ‰è…³æœ¬éƒ½å¯ä»¥æŠ•å…¥ç”Ÿç”¢ä½¿ç”¨
2. NPM scripts æ•´åˆå®Œç¾
3. æ ¸å¿ƒåŠŸèƒ½ç©©å®šå¯é 

**çŸ­æœŸæ”¹é€²** ğŸ“:
1. å¢åŠ æ›´å¤šæ¸¬è©¦è¦†è“‹
2. è€ƒæ…®å¢åŠ é…ç½®æ–‡ä»¶æ”¯æ´
3. å¢å¼·æ—¥èªŒç®¡ç†

**é•·æœŸè¦åŠƒ** ğŸ¯:
1. é–‹ç™¼ Web UI æ§åˆ¶å°
2. å¢åŠ ç›£æ§å’Œå‘Šè­¦
3. CI/CD æµç¨‹æ•´åˆ

### 14.4 é·ç§»å»ºè­°

**é·ç§»ç­–ç•¥**:
```bash
# 1. å‚™ä»½èˆŠè…³æœ¬
mv scripts/dev-start.sh scripts/legacy/

# 2. æ¸¬è©¦æ–°è…³æœ¬
./scripts/dev/start.sh --core-only

# 3. æ›´æ–°æ–‡æª”
# æ›´æ–° README å’ŒåŸ¹è¨“ææ–™

# 4. åœ˜éšŠåŸ¹è¨“
# èˆ‰è¡Œè…³æœ¬ä½¿ç”¨åŸ¹è¨“æœƒè­°

# 5. é€æ­¥é·ç§»
# å…ˆé·ç§»é–‹ç™¼ç’°å¢ƒï¼Œå†é·ç§» CI/CD
```

**å›æ»¾è¨ˆåŠƒ**:
```bash
# å¦‚æœé‡åˆ°å•é¡Œï¼Œå¯å¿«é€Ÿå›æ»¾
cp scripts/legacy/* scripts/
npm run dev-old  # ä½¿ç”¨èˆŠè…³æœ¬
```

---

## 15. ä¸‹ä¸€æ­¥è¡Œå‹• ğŸ“‹

### 15.1 ç«‹å³è¡Œå‹•

- [x] å®Œæˆæ‰€æœ‰åŠŸèƒ½æ¸¬è©¦
- [x] ç”Ÿæˆæ¸¬è©¦å ±å‘Š
- [ ] æ›´æ–°æ ¹ç›®éŒ„ README
- [ ] æ›´æ–° scripts/README.md
- [ ] å‰µå»ºå¿«é€Ÿé–‹å§‹æŒ‡å—
- [ ] å‰µå»ºé·ç§»æŒ‡å—
- [ ] å‰µå»ºå¸¸è¦‹å•é¡Œ FAQ
- [ ] å‰µå»ºæœ€ä½³å¯¦è¸æ–‡æª”

### 15.2 åœ˜éšŠåŸ¹è¨“

**åŸ¹è¨“è¨ˆåŠƒ**:
1. **ä»‹ç´¹æœƒè­°**ï¼ˆ30 åˆ†é˜ï¼‰
   - æ–°è…³æœ¬ç³»çµ±æ¦‚è¦½
   - ä¸»è¦æ”¹é€²é»
   - æ¼”ç¤ºå¸¸ç”¨å‘½ä»¤

2. **å¯¦æ“å·¥ä½œåŠ**ï¼ˆ1 å°æ™‚ï¼‰
   - å¯¦éš›ä½¿ç”¨æ–°è…³æœ¬
   - å¸¸è¦‹å•é¡Œè§£ç­”
   - æœ€ä½³å¯¦è¸åˆ†äº«

3. **æ–‡æª”å’Œæ”¯æ´**
   - æä¾›åŸ¹è¨“ææ–™
   - å»ºç«‹æ”¯æ´æ¸ é“
   - æ”¶é›†åé¥‹

### 15.3 ç›£æ§å’Œè¿­ä»£

**ç›£æ§æŒ‡æ¨™**:
- è…³æœ¬åŸ·è¡ŒæˆåŠŸç‡
- å¹³å‡åŸ·è¡Œæ™‚é–“
- ç”¨æˆ¶æ»¿æ„åº¦
- å•é¡Œå ±å‘Šæ•¸é‡

**è¿­ä»£è¨ˆåŠƒ**:
- æ¯æœˆå›é¡§ä½¿ç”¨æƒ…æ³
- æ ¹æ“šåé¥‹å„ªåŒ–
- æŒçºŒæ›´æ–°æ–‡æª”

---

## é™„éŒ„ A: è…³æœ¬æ¸…å–®

### A.1 é–‹ç™¼è…³æœ¬

| è…³æœ¬ | è·¯å¾‘ | ç”¨é€” | ç‹€æ…‹ |
|------|------|------|------|
| start.sh | scripts/dev/start.sh | å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ | âœ… |
| stop.sh | scripts/dev/stop.sh | åœæ­¢é–‹ç™¼ç’°å¢ƒ | âœ… |
| reset.sh | scripts/dev/reset.sh | é‡ç½®é–‹ç™¼ç’°å¢ƒ | âœ… |

### A.2 æ¸¬è©¦è…³æœ¬

| è…³æœ¬ | è·¯å¾‘ | ç”¨é€” | ç‹€æ…‹ |
|------|------|------|------|
| unit.sh | scripts/test/unit.sh | å–®å…ƒæ¸¬è©¦ | âœ… |
| e2e.sh | scripts/test/e2e.sh | E2E æ¸¬è©¦ | âœ… |
| integration.sh | scripts/test/integration.sh | æ•´åˆæ¸¬è©¦ | âœ… |
| coverage.sh | scripts/test/coverage.sh | è¦†è“‹ç‡å ±å‘Š | âœ… |

### A.3 å»ºç½®è…³æœ¬

| è…³æœ¬ | è·¯å¾‘ | ç”¨é€” | ç‹€æ…‹ |
|------|------|------|------|
| build-all.sh | scripts/build/build-all.sh | å»ºç½®æ‰€æœ‰é …ç›® | âœ… |
| build-backend.sh | scripts/build/build-backend.sh | å»ºç½®å¾Œç«¯ | âœ… |
| build-frontend.sh | scripts/build/build-frontend.sh | å»ºç½®å‰ç«¯ | âœ… |

### A.4 è³‡æ–™åº«è…³æœ¬

| è…³æœ¬ | è·¯å¾‘ | ç”¨é€” | ç‹€æ…‹ |
|------|------|------|------|
| migrate.sh | scripts/db/migrate.sh | è³‡æ–™åº«é·ç§» | âœ… |
| seed.sh | scripts/db/seed.sh | è¼‰å…¥ç¨®å­è³‡æ–™ | âœ… |
| backup.sh | scripts/db/backup.sh | å‚™ä»½è³‡æ–™åº« | âœ… |

### A.5 æ ¸å¿ƒå·¥å…·

| è…³æœ¬ | è·¯å¾‘ | ç”¨é€” | ç‹€æ…‹ |
|------|------|------|------|
| error-handler.sh | scripts/core/error-handler.sh | éŒ¯èª¤è™•ç† | âœ… |
| parallel-start.sh | scripts/core/parallel-start.sh | ä¸¦è¡Œå•Ÿå‹• | âœ… |
| port-checker.sh | scripts/core/port-checker.sh | ç«¯å£æª¢æŸ¥ | âœ… |
| wait-for-service.sh | scripts/core/wait-for-service.sh | æ™ºèƒ½ç­‰å¾… | âœ… |

---

## é™„éŒ„ B: NPM Scripts å°ç…§è¡¨

| NPM å‘½ä»¤ | è…³æœ¬è·¯å¾‘ | èªªæ˜ |
|----------|---------|------|
| `npm run dev` | `scripts/dev/start.sh` | å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ |
| `npm run dev:all` | `scripts/dev/start.sh --all` | å•Ÿå‹•æ‰€æœ‰æœå‹™ |
| `npm run dev:core` | `scripts/dev/start.sh --core-only` | åªå•Ÿå‹•æ ¸å¿ƒæœå‹™ |
| `npm run dev:stop` | `scripts/dev/stop.sh` | åœæ­¢é–‹ç™¼ç’°å¢ƒ |
| `npm run dev:reset` | `scripts/dev/reset.sh` | é‡ç½®é–‹ç™¼ç’°å¢ƒ |
| `npm run test:unit` | `scripts/test/unit.sh` | å–®å…ƒæ¸¬è©¦ |
| `npm run test:e2e` | `scripts/test/e2e.sh` | E2E æ¸¬è©¦ |
| `npm run test:integration` | `scripts/test/integration.sh` | æ•´åˆæ¸¬è©¦ |
| `npm run test:coverage` | `scripts/test/coverage.sh` | è¦†è“‹ç‡å ±å‘Š |
| `npm run build:all` | `scripts/build/build-all.sh` | å»ºç½®æ‰€æœ‰é …ç›® |
| `npm run build:backend` | `scripts/build/build-backend.sh` | å»ºç½®å¾Œç«¯ |
| `npm run build:frontend` | `scripts/build/build-frontend.sh` | å»ºç½®å‰ç«¯ |
| `npm run db:migrate` | `scripts/db/migrate.sh` | è³‡æ–™åº«é·ç§» |
| `npm run db:seed` | `scripts/db/seed.sh` | è¼‰å…¥ç¨®å­è³‡æ–™ |
| `npm run db:backup` | `scripts/db/backup.sh` | å‚™ä»½è³‡æ–™åº« |

---

## ç°½ç½²

**æ¸¬è©¦äººå“¡**: DevOps Engineer  
**å¯©æ ¸äººå“¡**: _å¾…å®š_  
**æ‰¹å‡†äººå“¡**: _å¾…å®š_  

**æ¸¬è©¦çµè«–**: âœ… **æ‰€æœ‰æ¸¬è©¦é€šéï¼Œå»ºè­°æŠ•å…¥ç”Ÿç”¢ä½¿ç”¨**

---

**å ±å‘Šç‰ˆæœ¬**: 1.0  
**ç”Ÿæˆæ™‚é–“**: 2025-01-XX  
**æ–‡æª”ç‹€æ…‹**: å®Œæˆ
