{
  "task_name": "admin-feature-implementation",
  "telegram_group": "-5255123740",
  "prompt": "請分派多個 Agent 幫 Sugar-Daddy 專案補上缺少的管理員後台功能，同時移除 API 路徑中的 /v1/ 前綴。\n\n## 任務拆分 (請創建子 Agent 並行執行):\n\n### Agent 1: 獨立 Admin Dashboard 前端\n**任務**: 創建專門的 /admin 路由和頁面\n**文件位置**: frontend/app/admin/\n**需要的頁面**:\n- /admin/page.tsx - 管理員總覽儀表板\n- /admin/users/page.tsx - 用戶管理列表\n- /admin/content/page.tsx - 內容審核介面\n- /admin/finance/page.tsx - 財務報表\n- /admin/settings/page.tsx - 系統設定\n\n**要求**:\n- 使用現有設計系統 (Tailwind + 現有組件)\n- 整合 AuthService 檢查 ADMIN 權限\n- 側邊欄導航\n\n### Agent 2: 內容審核工作流 API\n**任務**: 擴充 content-streaming-service 添加審核功能\n**文件**: content-streaming-service/src/\n**需要的 API**:\n- GET /api/content/pending-review - 待審核內容列表\n- POST /api/content/:id/approve - 批准內容\n- POST /api/content/:id/reject - 拒絕內容 (with reason)\n- GET /api/content/reports - 舉報列表\n- POST /api/content/:id/moderate - 內容仲裁\n\n**要求**:\n- 添加 moderation_status 欄位到 Content 實體\n- 審核日誌記錄\n\n### Agent 3: 財務報表 API + 前端\n**任務**: 擴充 payment-service 添加報表功能\n**API 端點**:\n- GET /api/payments/reports/revenue - 營收報表\n- GET /api/payments/reports/transactions - 交易統計\n- GET /api/payments/reports/refunds - 退款分析\n\n**前端組件**:\n- 整合到 admin/finance 頁面\n- 圖表顯示 (recharts)\n\n### Agent 4: API 路徑移除 /v1/\n**任務**: 移除所有服務的 /v1/ 前綴\n**範圍**:\n- auth-service: 將 /api/v1/auth/* 改為 /api/auth/*\n- content-streaming-service: /api/v1/* 改為 /api/*\n- payment-service: /api/v1/* 改為 /api/*\n- subscription-service: /api/v1/* 改為 /api/*\n- recommendation-service: /api/v1/* 改為 /api/*\n- api-gateway: 更新路由配置\n- frontend/lib/api/*: 更新前端 API 呼叫路徑\n\n**注意**:\n- 確保 Controller 中的 @Controller 裝飾器更新\n- 更新所有 API_REFERENCE.md 文件\n- 前端 fetch 函數路徑同步更新\n\n## 執行順序:\n1. Agent 4 先執行 (API 路徑變更影響所有)\n2. Agent 1, 2, 3 並行執行\n3. 最後整合測試\n\n請報告每個 Agent 的完成狀態。",
  "workdir": "/Users/brianyu/.openclaw/workspace"
}
