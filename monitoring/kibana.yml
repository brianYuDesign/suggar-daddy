# Kibana 伺服器配置
server.name: kibana
server.host: 0.0.0.0
server.port: 5601
server.basePath: ""

# Elasticsearch 連接
elasticsearch.hosts: ["http://elasticsearch:9200"]
elasticsearch.requestTimeout: 90000
elasticsearch.shardTimeout: 30000

# 索引模式
kibana.defaultAppId: "home"
kibana.index: ".kibana"

# 日誌配置
logging.level: info
logging.appenders:
  default:
    kind: console
  file:
    kind: file
    path: /var/log/kibana/kibana.log
    layout:
      kind: json

# UI 配置
xpack.reporting.enabled: false
xpack.security.enabled: false

# 高級設置
vis.enableAutoCommit: true
discover.aggs.buckets: 200
indexPattern.fieldMapping.total: 1000
metrics.max_buckets: 2000

# 設置默認時間範圍
xpack.reporting.csv.maxSizeBytes: 104857600

# CORS 設置
server.cors.enabled: true
server.cors.allowCredentials: true
server.cors.allowOrigins: ["*"]
